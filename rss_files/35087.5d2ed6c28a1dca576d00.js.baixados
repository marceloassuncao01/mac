"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[35087],{462140:(e,t,s)=>{function n(e,t,s){return Math.min(Math.max(e,t),s)}function i(e){return e>0?Math.floor(e):Math.ceil(e)}function o(e){return e%2==0}s.d(t,{clamp:()=>n,isEven:()=>o,toInt:()=>i})},173777:(e,t,s)=>{s.d(t,{SEPARATOR_PREFIX:()=>n});const n="###"},761637:(e,t,s)=>{function n(e){const t=function(e){if(void 0===e)return null;const t=e.match(/(delayed_streaming)_(\d+)/);return null===t?null:{mode:t[1],interval:parseInt(t[2])}}(e.update_mode);return null===t||(e.update_mode=t.mode,e.update_mode_seconds=t.interval),e}s.d(t,{normalizeUpdateMode:()=>n})},778016:(e,t,s)=>{s.d(t,{enabled:()=>a,getConfig:()=>l});s(650151);var n=s(749057),i=s(394320),o=s(638456),r=s(381467);function a(e,t,s){let n=window.user;s&&(n=s);const i=l(e,t,n);if(!i)return!1;if(i.disable_on_trial&&(!n||n.is_trial))return!1;const r=i.disable_on_lite_plan;if(r&&n.is_lite_plan){if("all"===r)return!1;if("exclude_mobile"===r&&!o.CheckMobile.any())return!1}return!0}function c(e){const t=n[e];return t?t.extends?Object.assign({},c(t.extends),t):t:null}function l(e,t,s){let n=c(t||(function(e){let t=window.user;"undefined"!=typeof window&&window.user&&(t=window.user),e&&(t=e);let s=t?.pro_plan||"free";return"free"!==s&&!(0,r.isTrialProduct)(s)||(s=(0,r.getProductForTrial)(s)),s}(s)??""));if(!n)return null;const o=window.TradingView?.widgetCustomer;return o&&i[o]&&(n=Object.assign({},n,i[o])),n&&n[e]||null}},849204:(e,t,s)=>{s.d(t,{LogoSize:()=>n,getLogoUrlResolver:()=>c});var n,i=s(650151),o=s(588948);!function(e){e[e.Medium=0]="Medium",e[e.Large=1]="Large"}(n||(n={}));class r{constructor(e){(0,i.assert)(""!==e,"S3 base url must be a non-empty string"),this._baseUrl=e}getSymbolLogoUrl(e,t){switch((0,i.assert)(""!==e,"logo id must be a non-empty string"),t){case n.Medium:return this._baseUrl+`${e}.svg`;case n.Large:return this._baseUrl+`${e}--big.svg`}}collectSymbolLogoUrls(e,t){const{logoId:s,baseCurrencyLogoId:n,currencyLogoId:i,dexCurrencyLogoId:o}=e;if(s)return[this.getSymbolLogoUrl(s,t)];const r=[];if(n&&r.push(this.getSymbolLogoUrl(n,t)),o?r.push(this.getSymbolLogoUrl(o,t)):i&&r.push(this.getSymbolLogoUrl(i,t)),r.length<2)return r;const a=r.some(l),c=r.every((e=>!e.includes("country")||l(e)));return a&&c?r.filter((e=>!l(e))):r;function l(e){return e.includes("country/US")}}getCountryFlagUrl(e,t){return this.getSymbolLogoUrl("country/"+e,t)}getCryptoLogoUrl(e,t){return this.getSymbolLogoUrl("crypto/"+e,t)}getProviderLogoUrl(e,t){return this.getSymbolLogoUrl("provider/"+e,t)}getSourceLogoUrl(e,t){return this.getSymbolLogoUrl("source/"+e,t)}getBlockchainContractLogoUrl(e,t){return this.getSymbolLogoUrl("blockchain/"+e,t)}}let a;function c(){return function(){if(!a){const e=(0,o.getInitData)(),t=e.settings?e.settings.S3_LOGO_SERVICE_BASE_URL:"";a=new r(t)}return a}()}},519073:(e,t,s)=>{function n(e){return void 0!==e&&e.includes("crypto")}s.d(t,{hasCryptoTypespec:()=>n})},779923:(e,t,s)=>{async function n(e,t){
const n=await Promise.all([s.e(61560),s.e(3260),s.e(10053),s.e(99004),s.e(35954),s.e(23454),s.e(68555),s.e(91676),s.e(7738),s.e(20553),s.e(58793),s.e(55485),s.e(75621),s.e(14878),s.e(82409),s.e(90686),s.e(61733),s.e(77894),s.e(16968),s.e(42943),s.e(97806),s.e(12662),s.e(70418),s.e(87473),s.e(66337),s.e(6471),s.e(62526),s.e(26362),s.e(2060),s.e(4226),s.e(38890)]).then(s.bind(s,190916));return n.showSimpleDialog(e,n.warningModule,t)}s.d(t,{showWarning:()=>n})},975115:(e,t,s)=>{var n=s(154834),i=s(290484),o=s(536794),r=s(569708),a=s(283873),c=s(683350),l=s(650151),u=s(735566),d=s(28511),h=s(605814),_=s(687037),m=s(292464),p=s(686992),f=s(773364),g=s(498060),y=s(954912),b=s(807850),w=s(197188),C=s(965971),v=s(800828),S=s(778016),M=s(125226),k=s(849204),R=s(314802),N=s(175203),T=s(462140),q=s(77294),D=s(707681),I=s(487030),L=s(543679),P=s(104498);const E=(0,u.getLogger)("Chart.Studies.StudyMetaInfoRepository",{color:"#606"}),x=(0,u.getLogger)("ChartApi.TrafficMeter",{maxCount:20,color:"#268"}),O=(0,u.getLogger)("ChartApi.Core",{color:"#706"}),H=(0,u.getLogger)("ChartApi.ChartSession",{color:"#706"}),U=(0,u.getLogger)("ChartApi.ChartSession",{highRate:!0,maxCount:100,color:"#706"}),F=(0,u.getLogger)("ChartApi.ChartSession",{maxCount:0,color:"#706"}),A=(0,u.getLogger)("ChartApi.ChartSession",{maxCount:50,color:"#706"}),B=(0,u.getLogger)("ChartApi.QuoteSession",{maxCount:50,color:"#660"}),$=(0,u.getLogger)("ChartApi.QuoteSession",{highRate:!0,maxCount:10,color:"#660"}),Q=!(0,R.isOnMobileAppPage)("any"),W=(0,M.isFeatureEnabled)("broker_id_session");let V=!1,j=!1,G=!1;const z=["","KB","MB","GB","TB"];function Y(e){if(0===e)return"0";const t=(0,T.toInt)(Math.floor(Math.log(e)/Math.log(1024)));return(e/Math.pow(1024,t)).toFixed(2)+z[t]}function J(e,t){return`${e}__${t}`}function Z(e,t,s){const n=t[s]??0;t[s]=n+e}const K=Z.bind(null,1),X=Z.bind(null,-1),ee=_.enabled("widget")?"studies_metadata_widget":"studies_metadata",te="/chart-api/pro_hash",se=_.enabled("widget")?"/chart-api/studies_metadata_widget":"/chart-api/studies_metadata";function ne(e){if(null===e)return"";if("period-back"===e.type){let t=e.value;return"YTD"!==t&&"D"===t.slice(-1)&&(t=t.slice(0,-1)),t}return"r,"+e.from+":"+e.to}let ie=null;function oe(){if(null===ie){const e=document.querySelector('link[rel~="conversions-config"]'),t=new URL((0,l.ensureNotNull)(e).href);ie=(0,y.fetch)(t.toString(),{method:"GET"}).then((e=>{if(!e.ok)throw new Error("Response status is not success");return e.json()})).then((e=>{const t=(0,k.getLogoUrlResolver)();return e.currencies.forEach((e=>{void 0!==e.logoid&&(e.logoUrl=t.getSymbolLogoUrl(e.logoid,k.LogoSize.Medium))})),e}))}return ie}let re=null;class ae{constructor(e){this.sessionid=null,this._banInfo=new q.WatchedValue(null),this._isAuthTokenLoaded=!1,this._authTokenDfd=null,this._serverTimeBasePoint=Date.now()-performance.now(),this._initCachePromise=(0,v.createCache)("TVChartApi"),this._trafficStats={total:0,sinceConnect:0,lastChunk:0},this._lowQualityEnabled=!1,this._brokerId="",this._sendingQueuedRequestsCount=0,
this._modifyStudyMap=new Map,this._disconnectCount=0,this._isConnected=!1,this._metadataDeferredPromise=null,this._dataHandleModule=new L.JSONDataHandler,this._sessions={},this._notificationHandlers={},this._pendingMessagesQueue=[],this._loadNewBars=!1,this._metadataRequestNextNumber=1,this._fundamentalCounter={},this._studyCounter={},this._childStudyCounter={},this._studySpecs=new Map,this._connectionsLimitReached=new q.WatchedValue(!1),this._sentMethodsCounters=new Map,this._receivedMethodsCounters=new Map,this._requestDataProblemsPromise=null,this._wsBackendConnection=e,this._wsBackendConnection.onReconnect(this._bindSocketEvents.bind(this)),this._wsBackendConnection.setLogger(O,u.getLogHistory),this._wsBackendConnection.setTelemetry(N.telemetry),this._bindSocketEvents(),this._isNonCountedStudy=()=>!0,window?.TradingView?.onChartPage||this._enableLowQualityMode(),setInterval((()=>{x.logNormal("Last 30 seconds:"+Y(this._trafficStats.lastChunk)+" Since last connect:"+Y(this._trafficStats.sinceConnect)+" Total traffic:"+Y(this._trafficStats.total)),this._trafficStats.lastChunk=0}),3e4),this._connectionsLimitReached.subscribe((e=>{e&&this.disconnect()}))}connect(e){this._connectOnlyOptions=e,this._wsBackendConnection.isConnected()||this._wsBackendConnection.isConnecting()||this._wsBackendConnection.connect()}disconnect(){this._wsBackendConnection.disconnect()}sentMethodsCounters(){return this._sentMethodsCounters}receivedMethodsCounters(){return this._receivedMethodsCounters}defaultResolutions(){return(0,m.getDefaultResolutions)()}availableCurrencies(){return oe().then((e=>e.currencies))}availableUnits(){return oe().then((e=>{const t={};for(const s of e.units)t[s.type]||(t[s.type]=[]),t[s.type].push(s);return t}))}async availableMetrics(){return function(){if(null===re){const e=document.querySelector('link[rel~="metrics-config"]'),t=new URL((0,l.ensureNotNull)(e).href);re=(0,y.fetch)(t.toString(),{method:"GET"}).then((e=>{if(!e.ok)throw new Error("Response status is not success");return e.json()}))}return re}().then((e=>e.metrics))}availablePriceSources(){return Promise.resolve([])}supportedSymbolsTypes(){const e=window.TradingView?.widgetCustomer??"";return"bovespa"===e?g.filter((e=>["","stock","futures","index"].includes(e.value))):"cme"===e?g.filter((e=>e.value!==p.types.QUANDL)):g}symbolsGrouping(){return{futures:/^(.+?)([12]!|\w\d{4})?$/}}connected(){return!!this._isConnected}authTokenManager(){return(0,l.ensureDefined)(this._authTokenManager)}createSession(e,t){this._sessions[e]=t,this._notificationHandlers[e]={},this.connected()&&this._isAuthTokenLoaded&&t.onMessage({method:h.ChartApiMessageMethod.Connected,params:[]})}removeSession(e){delete this._sessions[e],delete this._notificationHandlers[e]}disconnectCount(){return this._disconnectCount||0}getPingInfo(){return this._wsBackendConnection.getPingInfo()}connectionBanInfo(){return this._banInfo.readonly()}connectionsLimitReached(){return this._connectionsLimitReached.readonly()}serverTime(){return Math.round(this._serverTimeBasePoint+performance.now())}
compensateConnectionLag(e){const t=this.serverTime(),s=Math.floor(e-t);s>0&&(this._serverTimeBasePoint+=s)}setBroker(e){return e===this._brokerId||(this._brokerId=e,this._sendBrokerIdToSession(this._brokerId))}chartCreateSession(e,t){return this._sendRequest("chart_create_session",[e,t])}chartDeleteSession(e){return this._sendRequest("chart_delete_session",[e])}switchTimezone(e,t){return this._sendRequest("switch_timezone",[e,t])}resolveSymbol(e,t,s,n){return N.telemetry.timeCounters.series["resolve_symbol_"+e]=window.performance.now(),this._notificationHandlers[e][t]=new P.HandlerInfo(n,t,!0),this._sendRequest("resolve_symbol",[e,t,s])}requestFirstBarTime(e,t,s,n){return this._notificationHandlers[e][t]=new P.HandlerInfo(n,t,!0),this._sendRequest("get_first_bar_time",[e,t,s])}createSeries(e,t,s,n,i,o,r,a){N.telemetry.timeCounters.series.marks.push("create_series_"+e),this._notificationHandlers[e][t]=new P.HandlerInfo(a,t);const c=ne(r);return this._sendRequest("create_series",[e,t,s,n,i,o,c])}removeSeries(e,t){return delete this._notificationHandlers[e][t],this._sendRequest("remove_series",[e,t])}modifySeries(e,t,s,n,i,o,r,a){this._notificationHandlers[e][t]=new P.HandlerInfo(a,t);const c=ne(r);return this._sendRequest("modify_series",[e,t,s,n,i,c])}getStudyCounter(e){return this._studyCounter[e]??0}getFundamentalCounter(e){return this._fundamentalCounter[e]??0}requestMoreData(e,t,s,n){if(void 0===s||void 0===n)throw new Error("unsupported request to load more data, bars="+s);const i=t;return this._notificationHandlers[e][i]=new P.HandlerInfo(n,i),this._sendRequest("request_more_data",[e,i,s])}requestMoreTickmarks(e,t,s,n){return n&&(this._notificationHandlers[e][t]=new P.HandlerInfo(n,t)),this._sendRequest("request_more_tickmarks",[e,t,s])}setFutureTickmarksMode(e,t){this._sendRequest("set_future_tickmarks_mode",[e,t])}requestDataProblems(){return this._requestDataProblemsPromise||(this._requestDataProblemsPromise=this.connectDfd.then((()=>new Promise(((e,t)=>{this._onDataProblemsPromiseErrback=t,this._sendRequest("request_data_problems",[])?this._onDataProblemsPromiseCb=e:t()})))).finally((()=>{this._requestDataProblemsPromise=null}))),this._requestDataProblemsPromise}async requestMetadata(){return null===this._metadataDeferredPromise&&(this._metadataDeferredPromise=(0,w.createDeferredPromise)(),this._metadataDeferredPromise.promise.finally((()=>{this._metadataDeferredPromise=null})),this._requestMetadata()),this._metadataDeferredPromise.promise}allStudiesMetadata(){throw new Error("This method is not implemented")}setLoadNew(e){this._loadNewBars=!!e}setIsNonCountedStudyFn(e){this._isNonCountedStudy=e}canCreateStudy(e,t,s){const{id:n,child:i,fundamental:o}=t,r=(0,l.ensureNotNull)((0,S.getConfig)("STUDY_ON_STUDY")).child_limit;if(i&&(!(0,S.enabled)("STUDY_ON_STUDY")||(this._childStudyCounter[e]??0)>=r))return{success:!1,reason:"child",limitValue:r};if(s)return{success:!0};const a=(0,l.ensureNotNull)((0,S.getConfig)("FUNDAMENTALS_ON_CHART")).limit;if(o&&(!(0,
S.enabled)("FUNDAMENTALS_ON_CHART")||this.getFundamentalCounter(e)>=a))return{success:!1,reason:"fundamental",limitValue:a};const c=(0,l.ensureNotNull)((0,S.getConfig)("INDICATORS_ON_CHART")).limit;return o||this._isNonCountedStudy(n)||(0,S.enabled)("INDICATORS_ON_CHART")&&!(this.getStudyCounter(e)>=c)?{success:!0}:{success:!1,reason:"general",limitValue:c}}createStudy(e,t,s,n,i,o,r,a){const c=this.canCreateStudy(e,a);return c.success||"child"!==c.reason?(this._notificationHandlers[e][t]=new P.HandlerInfo(r,t),this._sendRequest("create_study",[e,t,s,n,i,o]),a.fundamental?K(this._fundamentalCounter,e):this._isNonCountedStudy(a.id)||K(this._studyCounter,e),a.child&&K(this._childStudyCounter,e),this._studySpecs.set(J(e,t),a),!0):((0,b.showTooManyStudiesNotice)(c.limitValue),!1)}modifyStudy(e,t,s,n,o,r){Z(r=r??0,this._childStudyCounter,e),0!==r&&((0,l.ensureDefined)(this._studySpecs.get(J(e,t))).child=r>0),this._notificationHandlers[e][t]=new P.HandlerInfo(o,t);const a=e+t;if(this._modifyStudyMap.has(a)){return(0,l.ensureDefined)(this._modifyStudyMap.get(a))(e,t,s,n)??!0}{const o=(0,i.default)(((e,t,s,n)=>this._sendRequest("modify_study",[e,t,s,n])),500,{maxWait:550});return this._modifyStudyMap.set(a,o),o(e,t,s,n)??!0}}notifyStudy(e,t,s,n){return O.logNormal(`Send notify_study, [${e}, ${t}, ${s}, ${JSON.stringify(n)}]`),this._sendRequest("notify_study",[e,t,s,JSON.stringify(n)])}removeStudy(e,t){const s=e+t;delete this._notificationHandlers[e][t],this._modifyStudyMap.get(s)?.flush();const n=this._sendRequest("remove_study",[e,t]);if(!1===n)return!1;this._modifyStudyMap.delete(s);const i=J(e,t),o=(0,l.ensureDefined)(this._studySpecs.get(i));return this._studySpecs.delete(i),o.fundamental?X(this._fundamentalCounter,e):this._isNonCountedStudy(o.id)||X(this._studyCounter,e),o.child&&X(this._childStudyCounter,e),n}createPointset(e,t,s,n,i,o,r){return this._notificationHandlers[e][t]=new P.HandlerInfo(r,t),this._sendRequest("create_pointset",[e,t,s,n,i,o])}modifyPointset(e,t,s,n,i){return this._notificationHandlers[e][t]=new P.HandlerInfo(i,t),this._sendRequest("modify_pointset",[e,t,s,n])}removePointset(e,t){return delete this._notificationHandlers[e][t],this._sendRequest("remove_pointset",[e,t])}getMarks(e,t,s,n,i){throw Error("This method is not implemented")}getTimescaleMarks(e,t,s,n,i){throw Error("This method is not implemented")}quoteCreateSession(e){return this._sendRequest("quote_create_session",[e])}quoteDeleteSession(e){return this._sendRequest("quote_delete_session",[e])}quoteAddSymbols(e,t){return this._sendRequest("quote_add_symbols",[e,t])}quoteRemoveSymbols(e,t){return this._sendRequest("quote_remove_symbols",[e,t])}quoteFastSymbols(e,t){return this._sendRequest("quote_fast_symbols",[e,t])}quoteSetFields(e,t){return this._sendRequest("quote_set_fields",[e,t])}quoteHibernateAll(e){return this._sendRequest("quote_hibernate_all",[e])}depthCreateSession(e,t,s){return this._sendRequest("depth_create_session",[e,t,s])}depthDeleteSession(e){return this._sendRequest("depth_delete_session",[e])}depthSetSymbol(e,t){
return this._sendRequest("depth_set_symbol",[e,t])}depthClearSymbol(e){return this._sendRequest("depth_clear_symbol",[e])}depthSetScale(e,t){return this._sendRequest("depth_set_scale",[e,t])}unpack(e){return this._dataHandleModule.unpack(e)}sendRequest(e,t){return this._sendRequest(e,t)}_init(){this._notificationHandlers={},this._studyCounter={},this._childStudyCounter={},this._fundamentalCounter={},this._modifyStudyMap=new Map}_sendRequest(e,t){const s=this._sentMethodsCounters.get(e)??0;if(this._sentMethodsCounters.set(e,s+1),0!==this._sendingQueuedRequestsCount)return this._pendingMessagesQueue.push({method:e,args:t}),!0;const i=this._dataHandleModule[e].apply(this._dataHandleModule,t),l={m:e,p:(0,n.default)(i)},u=l.m.includes("study")&&l.p[5];u&&function(e){if(!(0,o.isObject)(e))return!1;for(const t of Object.keys(e)){const s=e[t];if(!((0,o.isObject)(s)||(0,a.default)(s)||(0,r.default)(s)||(0,c.default)(s)))return!1}return!0}(u)&&"text"in u&&(u.text=u.text.slice(0,10));const d=JSON.stringify(l);if(i.length>0){const e=i[0];e.startsWith("qs_")?B.logNormal("send: "+d):e.startsWith("cs_")&&H.logNormal("send: "+d)}else O.logNormal("send: "+d);const h=this._dataHandleModule.prepareEncodeMessage(e,i);return this._wsBackendConnection.send(h)}_onConnect(){if(this.connected())return;if(this._trafficStats.sinceConnect=0,this._isAuthTokenLoaded=!1,this._connectOnlyOptions=this._connectOnlyOptions||{},this._authTokenDfd=this._getAuthTokenDfd(this._connectOnlyOptions.tokenGrabSession),this._connectOnlyOptions={},this.sessionid=this._wsBackendConnection.getSessionId(),!this.sessionid||this._isConnected)return;this._pendingMessagesQueue=[],this._sendingQueuedRequestsCount=0,this._studyCounter={},this._childStudyCounter={},this._fundamentalCounter={},this._studySpecs.clear(),this._isConnected=!0,this._banInfo.setValue(null),this._connectionsLimitReached.setValue(!1);const e=JSON.parse(this.sessionid);this._sendLowQualityModeIfEnabled(),this._metadataServerHash=e.studies_metadata_hash||null;const t=this._wsBackendConnection.getConnectionEstablished();try{this._serverTimeBasePoint=Math.round(e.timestampMs-t)}catch(e){this._serverTimeBasePoint=Date.now()-performance.now()}if(O.logInfo("Time shift with server: "+this._formatTime(this.serverTime()-Date.now())),this._authTokenDfd){this._sendingQueuedRequestsCount+=1,O.logInfo("Wait for auth token before send messages");const e=this._authTokenDfd;e.then((t=>{if(null!==this._authTokenDfd&&this._authTokenDfd===e){if(O.logNormal("Auth token request is finished, token: "+Boolean(t)),this._authTokenDfd=null,t){const e=[{method:"set_auth_token",args:[t]}];if(Q){const t=window.initData&&window.initData.currentLocaleInfo;t&&e.push({method:"set_locale",args:[t.iso,t.flag.toUpperCase()]})}this._pendingMessagesQueue.unshift(...e)}this._onSendingQueueRequestFinished(),this._isAuthTokenLoaded=!0,this._notifySessions({method:h.ChartApiMessageMethod.Connected,params:[]})}else O.logNormal("Comes auth token after requesting new token or after socket disconnected")})).catch((e=>{O.logNormal((0,
C.errorToString)(e))}))}else O.logWarn("Deferred auth token object is not valid"),this._isAuthTokenLoaded=!0;""!==this._brokerId&&this._sendBrokerIdToSession(this._brokerId);const s=this._wsBackendConnection.getConnectionStart();N.telemetry.setSessionInfo(this.sessionid),N.telemetry.sendChartReport("websocket_connected"),N.telemetry.sendChartReport("websocket_connection_time_frame",{value:t-s}),N.telemetry.sendChartReport("reconnect_count_frame",{value:this._wsBackendConnection.getReconnectCount()}),N.telemetry.sendChartReport("redirect_count_frame",{value:this._wsBackendConnection.getRedirectCount()}),V||(V=!0,N.telemetry.sendChartReport("before_websocket_connection_time_frame",{value:s})),this._wsBackendConnection.resetCounters(),clearTimeout(this._telemetryDisconnectTimeout)}_formatTime(e){return`${(e/1e3).toFixed(2)} seconds.`}_dispatchNotification(e,t){if("request_data_problems"===e.method&&this._onDataProblemsPromiseCb)return void this._onDataProblemsPromiseCb(e.params);if(e.method===I.WebchartChartSessionResponseMethod.StudiesMetadata&&null!==this._metadataDeferredPromise)return void this._processedMetadata(e);const s=e.params.shift();if(!this._notificationHandlers[s])return;if("symbol_resolved"===e.method){const t=e.params[1].full_name;N.telemetry.sendChartReport("symbol_resolved",{count:1,additional:{symbol:t}});const n=N.telemetry.timeCounters.series["resolve_symbol_"+s];"number"==typeof n&&N.telemetry.sendChartReport("symbol_resolve_time_frame",{value:window.performance.now()-n,additional:{symbol:t}})}if(["series_error","series_completed"].includes(e.method)&&N.telemetry.timeCounters.series.marks.length>0){const e="create_series_"+s,t=N.telemetry.timeCounters.series.marks.indexOf(e);t>=0&&N.telemetry.timeCounters.series.marks.splice(t,1)}G||"series_error"!==e.method||(G=!0);const n=this._wsBackendConnection.getConnectionEstablished();if(null!==n&&"series_completed"===e.method&&(G||(G=!0,N.telemetry.sendChartReport("first_series_full_time_frame",{value:window.performance.now()-n}),N.telemetry.timeCounters.series.marks=[]),j||(j=!0,N.telemetry.sendChartReport("page_full_load_time_frame",{value:window.performance.now()}))),s.startsWith("cs_")){let s="recv: "+t;"data_update"===e.method?(s=(0,u.isHighRateEnabled)()?s:s.slice(0,500),U.logNormal(this._appendDuration(s,e.time))):"study_loading"===e.method?F.logNormal(this._appendDuration(s,e.time)):"tickmark_update"===e.method?A.logNormal(this._appendDuration(s,e.time)):H.logNormal(this._appendDuration(s,e.time))}if(s.startsWith("qs_")){("quote_symbol_data"===e.method?$.logNormal:B.logNormal)("recv: "+t)}switch(e.method){case I.WebchartChartSessionResponseMethod.TimeScaleUpdate:{const t=this._dataHandleModule.getTimescaleObjects(e),n=this._dataHandleModule.getTimescaleChangeset(e),i=this._convertTimescaleResponse(n);this._sessions[s].onMessage({method:I.WebchartChartSessionResponseMethod.TimeScaleUpdate,params:i}),this._dataHandleModule.prepareDataUpdateObjects(s,t,((e,t,s)=>{this._invokeNotificationHandler(e,t,s)}));break}case"tickmark_update":const t={
...this._convertTimescaleResponse(e.params[0]),changes:[]};this._sessions[s].onMessage({method:I.WebchartChartSessionResponseMethod.TimeScaleUpdate,params:t});break;case I.WebchartChartSessionResponseMethod.DataUpdate:{const t=this._dataHandleModule.getDataUpdateObjects(e);this._dataHandleModule.prepareDataUpdateObjects(s,t,((e,t,s)=>{this._invokeNotificationHandler(e,t,s)}));break}case"index_update":for(const t in e.params[0])if(e.params[0].hasOwnProperty(t)){const n={method:"index_update",params:e.params[0][t]};this._invokeNotificationHandler(s,t,n)}break;case I.WebchartResponseMethod.CriticalError:O.logInfo(new Date+" critical_error session:"+this.sessionid+" reason:"+e.params[0]),N.telemetry.sendChartReport("critical_error"),this._sessions[s].onMessage({method:I.WebchartResponseMethod.CriticalError,params:e.params});break;case"timescale_completed":case"quote_symbol_data":case"quote_list_fields":case"quote_completed":case"depth_symbol_error":case"depth_symbol_success":case"dd":case"dpu":case"depth_bar_last_value":this._sessions[s].onMessage({method:e.method,params:e.params});break;case"clear_data":for(const t in e.params[0])e.params[0].hasOwnProperty(t)&&this._invokeNotificationHandler(s,t,{method:I.WebchartChartSessionResponseMethod.ClearData,params:e.params[0][t]});break;case I.WebchartReplaySessionResponseMethod.ReplayPoint:case I.WebchartReplaySessionResponseMethod.ReplayResolutions:case I.WebchartReplaySessionResponseMethod.ReplayDataEnd:case I.WebchartReplaySessionResponseMethod.ReplayInstanceId:case I.WebchartReplaySessionResponseMethod.ReplayDepth:case I.WebchartReplaySessionResponseMethod.ReplayError:case I.WebchartReplaySessionResponseMethod.ReplayOk:this._sessions[s].onMessage(e);break;case"series_timeframe":e.params[4]=function(e){if(null==e)return null;const t=/r,(\d+):(\d+)/.exec(e);return null!==t?{from:Number(t[1]),to:Number(t[2]),type:"time-range"}:{value:e,type:"period-back"}}(e.params[4]),this._invokeNotificationHandler(s,e.params[0],e);break;case"symbol_resolved":!function(e){if(void 0===e.corrections){const t=(e.subsessions??[]).find((t=>t.id===e.subsession_id));void 0!==t&&(e.corrections=t["session-correction"])}}(e.params[1]),this._invokeNotificationHandler(s,e.params[0],e);break;default:this._invokeNotificationHandler(s,e.params[0],e)}}_notifySessions(e){for(const t in this._sessions)if(this._sessions.hasOwnProperty(t)){const s=this._sessions[t];"function"==typeof s.onMessage&&s.onMessage(e)}}_onMessage(e){this._calcTrafficStats(e);const t=this.unpack(e);this._receivedMethodsCounters.set(t.method,(this._receivedMethodsCounters.get(t.method)??0)+1),"t_ms"in t&&(0,r.default)(t.t_ms)&&window.ChartApiInstance.compensateConnectionLag(t.t_ms),"protocol_switched"!==t.method?"protocol_error"!==t.method?this._dispatchNotification(t,e):this._processProtocolError(t):O.logError("Unexpected protocol changing request, try skipping. Requested protocol:"+t.params[0])}async _processedMetadata(e){const t=(0,
l.ensureNotNull)(this._metadataDeferredPromise),s=await this._initCachePromise,i=window.pro.hash(),o=_.enabled("widget");try{await s.setValue(se,(0,n.default)(e));const r=Array.from(new Set(e.params[1].metainfo.map((e=>{return`${(t=(0,D.parseIdString)(e.id)).packageId}-${t.version}`;var t}))));if(O.logNormal(`Updated studies_metadata cache, unique package ids: ${r.join(", ")}`),!o)try{await s.setValue(te,(0,n.default)(i)),O.logNormal("Updated pro_hash cache")}catch(e){t.reject(),O.logError("Cannot update pro_hash cache, reason: "+e)}}catch(e){t.reject(),O.logError("Cannot update studies_metadata cache, reason: "+e)}t.resolve((0,n.default)(e))}_invokeNotificationHandler(e,t,s){if(void 0===t)return;const n=this._notificationHandlers[e][t];void 0!==n&&(n.singleShot&&delete this._notificationHandlers[e][t],n.handler?.(s))}_convertTimescaleResponse(e){return this._dataHandleModule.convertTimescaleResponse(e)}_appendDuration(e,t){return t?`${e}, duration: ${this._formatTime(this.serverTime()-1e3*t)}`:e}async _requestMetadata(){const e=this._makeNextRequestId();E.logNormal(`Requesting metainfo #${e}`);const t=(0,l.ensureNotNull)(this._metadataDeferredPromise),s=window.pro,i=s.hash(),o=_.enabled("widget");O.logNormal("Requesting pro hash");try{const r=await this._initCachePromise;await r.migrateValue("pro_hash",te),await r.migrateValue(ee,se);const a=await r.getValue(te);if(null!==a&&a===i||o){O.logNormal("Pro hash has not changed, requesting from local");const o=await r.getValue(se),a=null!==o&&o.params[1].hash||null;if(null===a||null===this._metadataServerHash||this._metadataServerHash!==a)O.logNormal(`Metadata hash has changed (cached: '${a}', server: '${this._metadataServerHash}')`),this._requestMetadataFromServer(e);else{if(!s.hasPackage("tv-volumebyprice")||void 0!==o.params[1].metainfo.find((e=>e.id.includes("@tv-volumebyprice"))))return O.logNormal("Using studies_metadata from browser cache"),void t.resolve((0,n.default)(o));O.logNormal(`De-sync detected! pro.hash contains VbPR studies, but data from cache doesn't and pro.hash isn't changed, pro.hash=${i}`),this._requestMetadataFromServer(e)}}else O.logNormal(`Pro hash has changed (cached: '${a}', current: '${i}')`),this._requestMetadataFromServer(e)}catch(t){O.logError("Cannot get studies_metadata, reason: "+t),this._requestMetadataFromServer(e)}finally{E.logNormal(`Requesting studies metadata #${e} finished`)}}_makeNextRequestId(){return"metadata_"+this._metadataRequestNextNumber++}_processProtocolError(e){const t=e.params[0];O.logError(`Protocol error. Reason=${t}.`),"banned"!==t&&"banned by user_id"!==t&&"banned by ip"!==t||(this._banInfo.setValue({reason:t}),this.disconnect()),this._connectionsLimitReached.setValue("user connections limit reached"===t)}_requestMetadataFromServer(e){return O.logNormal("Request studies_metadata from server"),this._sendRequest("request_studies_metadata",[e])}_bindSocketEvents(){this.connectDfd=new Promise(((e,t)=>{this._wsBackendConnection.on("connect",(()=>{this._onConnect(),e()})),
this._wsBackendConnection.on("message",this._onMessage.bind(this)),this._wsBackendConnection.on("disconnect",(()=>{this._authTokenDfd&&(this._authTokenDfd=null),this._onDataProblemsPromiseErrback&&this._onDataProblemsPromiseErrback(),this._isConnected=!1,this._notifySessions({method:h.ChartApiMessageMethod.Disconnected,params:[]}),this._banInfo.value()||(this._metadataDeferredPromise=null),this._disconnectCount=(this._disconnectCount||0)+1,this._wsBackendConnection.isConnected()&&(this._telemetryDisconnectTimeout=setTimeout((()=>{N.telemetry.sendChartReport("disconnect")}),5e3),this._wsBackendConnection.isMaxReconnects()&&(this._notifySessions({method:h.ChartApiMessageMethod.ReconnectBailout,params:[]}),t(),N.telemetry.sendChartReport("reconnect_bailout")))}))}))}_calcTrafficStats(e){const t=e.length;this._trafficStats.total+=t,this._trafficStats.sinceConnect+=t,this._trafficStats.lastChunk+=t}_sendBrokerIdToSession(e){return!W||this._sendRequest("set_broker",[e])}_enableLowQualityMode(){O.logNormal("low quality mode is enabled"),this._lowQualityEnabled=!0,this._sendLowQualityModeIfEnabled()}_sendLowQualityModeIfEnabled(){this._lowQualityEnabled&&this.connected()&&this._sendRequest("set_data_quality",[])}_getAuthTokenDfd(e){if(this._loadNewBars)return Promise.resolve("load_new_token");if(_.enabled("widget")||-1!==window.location.search.indexOf("widget_token")||-1!==window.location.hash.indexOf("widget_token")){const e=window.TradingView&&window.TradingView.widgetCustomer||"";return Promise.resolve(f[e]||"widget_user_token")}return window.is_authenticated?(this._authTokenManager||(this._authTokenManager=new d.AuthToken,this._authTokenManager.invalidated.subscribe(null,(()=>{this._authTokenManager?.get().then((e=>{e&&this.connected()&&this._sendRequest("set_auth_token",[e])}))}))),this._authTokenManager.get(e)):Promise.resolve("unauthorized_user_token")}_onSendingQueueRequestFinished(){this._sendingQueuedRequestsCount-=1,O.logInfo(`Sending queue request finished. Remaining pending requests=${this._sendingQueuedRequestsCount}`),this._sendingQueuedRequestsCount<0&&O.logError(`Invalid queue state=${this._sendingQueuedRequestsCount}`),0===this._sendingQueuedRequestsCount&&this._flushPendingMessages()}_flushPendingMessages(){O.logInfo(`Flush pending messages. Count=${this._pendingMessagesQueue.length}`),this._pendingMessagesQueue.forEach((e=>this._sendRequest(e.method,e.args))),this._pendingMessagesQueue=[]}}"undefined"!=typeof window&&(window.ChartApiInstance=new ae(window.WSBackendConnection))},170898:(e,t,s)=>{s.d(t,{getQuoteSessionInstance:()=>a});var n=s(150051),i=s(698582),o=s(900608);const r={};function a(e="full"){return r[e]||function(e="full",t){r[e]=t}(e,new n.QuoteSessionMultiplexer({name:e,api:window.ChartApiInstance,fields:c[e],extensions:{formatter:e=>new l(e).formatter,snapshot:e=>new u(e).snapshot}})),r[e]}const c={
simple:["base-currency-logoid","ch","chp","currency-logoid","currency_code","currency_id","base_currency_id","current_session","description","exchange","format","fractional","is_tradable","language","local_description","listed_exchange","logoid","lp","lp_time","minmov","minmove2","original_name","pricescale","pro_name","short_name","type","typespecs","update_mode","volume","variable_tick_size","value_unit_id","unit_id","measure"]};c.simpleDetailed=[...c.simple,"ask","bid","fundamentals","high_price","is_tradable","low_price","open_price","prev_close_price","rch","rchp","rtc","rtc_time","status","basic_eps_net_income","beta_1_year","earnings_per_share_basic_ttm","industry","market_cap_basic","price_earnings_ttm","sector","volume","dividends_yield","timezone"],c.full=[],c.watchlist=[...c.simple,"rchp","rtc","country_code","provider_id","dividends_availability","financials_availability","earnings_availability"],c.portfolio=["pro_name","short_name","exchange","listed_exchange","description","local_description","language","sector","type","typespecs","industry","currency_code","currency_id","ch","chp","logoid","currency-logoid","base-currency-logoid","earnings_per_share_forecast_next_fq","earnings_release_next_date","earnings_release_date","earnings_per_share_fq","lp","fractional","minmov","minmove2","pricescale","volume","average_volume","market_cap_calc","market_cap_basic","total_revenue","earnings_per_share_basic_ttm","price_earnings_ttm","beta_1_year","dps_common_stock_prim_issue_fy","dividends_yield","fundamental_currency_code","rates_mc","rates_fy","rates_ttm","format","value_unit_id","unit_id","measure"],c.notes=["short_name","pro_name","logoid","currency-logoid","base-currency-logoid","symbol-primaryname","type","typespecs"],c.estimates=["fundamental_data","type","typespecs","earnings_per_share_forecast_next_symbol_currency_fq","earnings_release_next_aligned_date","earnings_release_next_calendar_date","earnings_release_next_date"],c.economic=["reference-last-period","lp","currency_code","value_unit_id","unit_id","measure"],c.options=["ask","bid","lp","volume"];class l{constructor(e){this._formatterValuesCache={},this._waitingForFormatters={},this.formatter=(e,t)=>{if(this._waitingForFormatters[e])return this._waitingForFormatters[e];function s(e){const s=t&&!e.fractional?1:e.minmov;return new i.PriceFormatter({priceScale:e.pricescale,minMove:s,fractional:e.fractional,minMove2:e.minmove2})}const n=new Promise(((t,n)=>{if(this._formatterValuesCache[e])t(s(this._formatterValuesCache[e]));else{const i=(0,o.guid)();this._multiplexer.subscribe(i,[e],(o=>{"error"===o.status&&(this._waitingForFormatters[e]=null,n("Quotes snapshot is not received")),function(e){return e&&null!=e.pricescale&&null!=e.minmov}(o.values)&&(this._waitingForFormatters[e]=null,this._formatterValuesCache[e]=o.values,t(s(o.values)),this._multiplexer.unsubscribe(i,e))}))}}));return this._waitingForFormatters[e]=n,n},this._multiplexer=e}}class u{constructor(e){this._snapshotValuesCache={},this._waitingForSnapshot={},this.snapshot=e=>{
if(this._waitingForSnapshot[e])return this._waitingForSnapshot[e];const t=new Promise(((t,s)=>{if(this._snapshotValuesCache[e])t(this._snapshotValuesCache[e]);else{const n=(0,o.guid)();this._multiplexer.subscribe(n,[e],(i=>{"error"===i.status&&(this._waitingForSnapshot[e]=null,s("Quotes snapshot is not received"));const o=i.values;o&&o.minmov&&o.pricescale&&o.description&&(this._waitingForSnapshot[e]=null,this._snapshotValuesCache[e]=o,t(o),this._multiplexer.unsubscribe(n,e))}))}}));return this._waitingForSnapshot[e]=t,t},this._multiplexer=e}}"undefined"!=typeof window&&(window.getQuoteSessionInstance=a)},601316:(e,t,s)=>{s.d(t,{getMinTickData:()=>c,makeVariableMinTickData:()=>u});var n=s(960521),i=s(150335),o=s(405942),r=s(462140);function a(e){return e?(0,n.Big)(e.minMove).div(e.priceScale).toNumber():NaN}function c(e){const{minTick:t,price:s,variableMinTickData:n,shouldCheckForEquality:o}=e,r=(0,i.isNumber)(t)?l(t):t;return void 0===n?r:function(e,t,s=!1){for(let n=0;n<t.length;n++){if(e<t[n].price)return t[n].minTick;if(s&&e===t[n].price)return t[n].minTick}return t[t.length-1].minTick}(s,n,o)}function l(e){const t=(0,o.numOfDecimalPlaces)(e),s=Math.pow(10,t);return{priceScale:s,minMove:(0,n.Big)(e).mul(s).toNumber()}}function u(e,t){const s=[{minTick:(0,i.isNumber)(e)?l(e):e,price:1/0,maxIndex:1/0}];try{const e=t.split(" ").map(((e,t)=>(0,r.isEven)(t)?function(e){const t=Number(e);if(Number.isFinite(t))return l(t);{const t=e.split("/");if(t.length<2||t.length>3)throw new Error(`Unexpected mintick: ${e}`);const s=Number(t[1]),n=Number(t[0]);if(!Number.isFinite(s)||!Number.isFinite(n))throw new Error(`Unexpected mintick: ${e}`);const i=3===t.length?Number(t[2]):void 0;if(void 0!==i&&!Number.isFinite(i))throw new Error(`Unexpected mintick: ${e}`);const o={priceScale:s,minMove:n};return void 0!==i&&(o.minMove2=i),o}}(e):function(e){const t=Number(e);if(Number.isNaN(t))throw new Error(`Unexpected price limit: ${e}`);return t}(e)));if((0,r.isEven)(e.length))throw new Error("Theme must not be event number of elements");const s=[];for(let t=0;t<e.length;t+=2){const i=e[t+1]??1/0,o=s[s.length-1]?.price??0,r=s[s.length-1]?.maxIndex??0,c=i===1/0?1/0:new n.Big(i).minus(o).div(a(e[t])).plus(r).toNumber();s.push({minTick:e[t],price:i,maxIndex:c})}return s}catch{return s}}},866893:(e,t,s)=>{s.d(t,{numberToStringWithLeadingZero:()=>i});var n=s(536794);function i(e,t){if(!(0,n.isNumber)(e))return"n/a";if(!(0,n.isInteger)(t))throw new TypeError("invalid length");if(t<0||t>24)throw new TypeError("invalid length");if(0===t)return e.toString();return("00000000000000000000"+e.toString()).slice(-t)}},698582:(e,t,s)=>{s.d(t,{PriceFormatter:()=>a});var n=s(236798),i=s(766768),o=s(536794),r=s(99062);class a{constructor(e={}){this.type="price";const{minMove2:t,fractional:s,variableMinTick:a,ignoreMinMove:c,ignoreLocaleNumberFormat:l}=e,u=!e.minMove||c?1:e.minMove,d=(0,o.isNumber)(e.priceScale)&&(0,o.isInteger)(e.priceScale)?e.priceScale:100,h=(0,r.calculateDecimal)(d,u,s,t),_={...e,minMove:u,priceScale:d,fractionalLength:h}
;if(d<0)throw new TypeError("invalid base");this._priceScale=d,this._minMove=u,this._minMove2=t,this._fractional=s,this._variableMinTick=a,this._ignoreMinMove=c,this._fractionalLength=h,this._ignoreLocaleNumberFormat=l,this._noExponentialForm=e.noExponentialForm,this._implementation=s?new i.FractionalPriceFormatterImpl(_):new n.DecimalPriceFormatterImpl(_)}isFractional(){return!!this._fractional}state(){return{minMove:this._minMove,minMove2:this._minMove2,priceScale:this._priceScale,variableMinTick:this._variableMinTick,ignoreMinMove:this._ignoreMinMove,fractional:this._fractional,noExponentialForm:this._noExponentialForm}}formatChange(e,t,s){return this._implementation.formatImpl(e-t,{...s,variableMinTickDataPrice:Math.min(Math.abs(e),Math.abs(t))})}format(e,t){return this._implementation.formatImpl(e,t)}parse(e,t){return this._implementation.parse(e,t)}hasForexAdditionalPrecision(){return this._implementation.hasForexAdditionalPrecision()}static serialize(e){return e.state()}static deserialize(e){return new a(e)}}},840810:(e,t,s)=>{s.d(t,{isTicksEnabled:()=>i});var n=s(638456);s(687037);function i(){return!(0,n.onWidget)()}},659935:(e,t,s)=>{var n;!function(e){e.Monthly="m",e.ThreeMonths="3m",e.OneYear="y"}(n||(n={}))},711279:(e,t,s)=>{function n(e,t){const s=t||window.locale||"en";let n=e[s]?e[s]:e.en;return n="tradingview.com"===n?"www.tradingview.com":n,n?document.location.protocol+"//"+n:""}s.d(t,{determineBaseUrl:()=>n})},807850:(e,t,s)=>{s.d(t,{showTooManyStudiesNotice:()=>o});var n=s(444372),i=s(779923);function o(e){(0,i.showWarning)({title:n.t(null,void 0,s(966719)),text:n.t(null,{replace:{number:`${e}`}},s(586146))})}},381467:(e,t,s)=>{s.d(t,{getProductForTrial:()=>o,isTrialProduct:()=>i});s(7742),s(444372),s(659935);const n="_trial";function i(e){return new RegExp(n+"$").test(e)}function o(e){return e.split(n)[0]}},197188:(e,t,s)=>{function n(){let e,t;return{promise:new Promise(((s,n)=>{e=s,t=n})),reject:t,resolve:e}}s.d(t,{createDeferredPromise:()=>n})},733106:(e,t,s)=>{function n(e){const t=new URL(e,document.baseURI);return o(t)&&i(t)}s.d(t,{isInternalHost:()=>r,isSafeUrl:()=>n});const i=e=>!e.username,o=e=>"http:"===e.protocol||"https:"===e.protocol;function r(e,t=window.location.hostname){const s="."===t.slice(-1)?3:2,n=t.toLowerCase().split(".").slice(-s),i=e.toLowerCase().split(".").slice(-n.length);return n.join(".")===i.join(".")}},898918:(e,t,s)=>{s.d(t,{addUtmToUrl:()=>i});var n=s(105035);function i(e,t){if(!/([a-zA-Z0-9.-]*tradingview.com)|localhost/.test(e))return e;const s=(0,n.buildUtmQueryString)(t);if(""===s)return e;const i=e.indexOf("?"),o=e.indexOf("#"),r=-1!==o;if(-1!==i&&(!r||i<o)){return`${e.slice(0,i)}?${r?e.slice(i+1,o):e.slice(i+1)}&${s}${r?e.slice(o):""}`}if(r){return`${e.slice(0,o)}?${s}${e.slice(o)}`}return`${e}?${s}`}},735566:(e,t,s)=>{var n;s.r(t),s.d(t,{LOGLEVEL:()=>n,getLogHistory:()=>b,getLogLevel:()=>_,getLogger:()=>C,getRawLogHistory:()=>g,isHighRateEnabled:()=>m,loggingOff:()=>S,loggingOn:()=>v,serializeLogHistoryEntry:()=>y,setHighRateStatus:()=>f,setLogLevel:()=>p
}),function(e){e[e.ERROR=1]="ERROR",e[e.WARNING=2]="WARNING",e[e.INFO=3]="INFO",e[e.NORMAL=4]="NORMAL",e[e.DEBUG=5]="DEBUG"}(n||(n={}));let i=0;const o=1e3,r=[];let a=null,c=null,l=null,u=null,d=n.WARNING,h=!1;function _(){return d}function m(){return h}function p(e){e=Math.max(n.ERROR,Math.min(n.DEBUG,e)),d=e}function f(e){h=e}function g(e,t){let s=r.reduce(((e,t)=>e.concat(t)),[]);return s.sort(((e,t)=>e.id-t.id)),void 0!==t&&(s=s.filter((e=>e.subSystemId===t))),"number"==typeof e&&(s=s.slice(-e)),s}function y(e){return new Date(e.timestamp).toISOString()+":"+e.subSystemId+":"+e.message.replace(/"/g,"'")}const b=(e,t)=>function(e,t){let s,n=0,i=0;for(s=e.length-1;s>=1&&(n+=8*(1+encodeURIComponent(e[s]).length),!(s-1>0&&(i=8*(1+encodeURIComponent(e[s-1]).length),n+i>t)));s--);return e.slice(s)}(g(e,t).map(y),75497472);function w(e,t,s,r){if(t===c&&r.id===l)return;const h=new Date;if(e<=n.NORMAL&&function(e,t,s,n,r){"function"==typeof structuredClone&&(t=structuredClone(t)),t=t.slice(0,o);const a={id:i,message:t,subSystemId:n,timestamp:Number(e)};i+=1,s.push(a),void 0!==r&&s.length>r&&s.splice(0,1)}(h,t,s,r.id,r.maxCount),e<=d&&(!r.highRate||m())&&(!a||r.id.match(a))){const s=h.toISOString()+":"+r.id+":"+t;switch(e){case n.DEBUG:console.debug(s);break;case n.INFO:case n.NORMAL:r.color?console.log("%c"+s,"color: "+r.color):console.log(s);break;case n.WARNING:console.warn(s);break;case n.ERROR:console.error(s)}c=t,l=r.id,null!==u&&clearTimeout(u),u=setTimeout((()=>{c=null,l=null,u=null}),1e3)}}function C(e,t={}){const s=[];r.push(s);const i=Object.assign(t,{id:e});function o(e){return t=>w(e,String(t),s,i)}return{logDebug:o(n.DEBUG),logError:o(n.ERROR),logInfo:o(n.INFO),logNormal:o(n.NORMAL),logWarn:o(n.WARNING)}}const v=(e,t)=>{p(n.DEBUG),h=Boolean(e),a=t||null},S=()=>{p(n.INFO)}}}]);